<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Trainers Management</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert2/11.4.8/sweetalert2.min.css">
    <link rel="stylesheet" href="../css/sytels.css">
    <link rel="stylesheet" href="../css/trinees-mangment.css">
    
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-header">
            <h3>Training Admin</h3>
        </div>
        <div class="sidebar-menu">
            <div class="menu-item">
                <i class="fas fa-tachometer-alt"></i>
                <a href="dasboard.html"><span>Dashboard</span></a>
            </div>
            <div class="menu-item">
                <i class="fas fa-book"></i>
                <a href="course-mangement.html"><span>Courses Management</span></a>
            </div>
            <div class="menu-item active">
                <i class="fas fa-chalkboard-teacher"></i>
                <a href="traineed management.html"><span>Trainers Management</span></a>
            </div>
           
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="header">
            <h1>Trainers Management</h1>
            <div class="user-info" id="userInfo">
                <img src="../images/profile.png" alt="Admin">
                <span>Admin User</span>
                <div class="profile-dropdown" id="profileDropdown">
                    <div class="profile-dropdown-item" id="viewProfile">
                        <i class="fas fa-user"></i>
                        <a href="profile.html"><span>View Profile</span></a>
                    </div>
                    <div class="profile-dropdown-item" id="logout">
                        <i class="fas fa-sign-out-alt"></i>
                        <a href="../langingPage.html"><span>Logout</span></a>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="trainers-container">
            <div class="trainers-header">
                <h2>Trainers List</h2>
                <button class="add-trainer-btn" id="addTrainerBtn">
                    <i class="fas fa-plus"></i> Add Trainer
                </button>
            </div>
            
            <table class="trainers-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Specialization</th>
                        <th>Experience</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1001</td>
                        <td>Ahmed Mohammed</td>
                        <td>Web Development</td>
                        <td>8 years</td>
                        <td><span class="status-badge status-active">Active</span></td>
                        <td>
                            <div class="action">
                                <button class="action-btn view-btn" title="View Details"><i class="fas fa-eye"></i></button>
                                <button class="action-btn edit-btn" title="Edit"><i class="fas fa-edit"></i></button>
                                <button class="action-btn block-btn" title="Block Trainer"><i class="fas fa-ban"></i></button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>1002</td>
                        <td>Sarah Abdullah</td>
                        <td>Project Management</td>
                        <td>5 years</td>
                        <td><span class="status-badge status-active">Active</span></td>
                        <td>
                            <div class="action">
                                <button class="action-btn view-btn" title="View Details"><i class="fas fa-eye"></i></button>
                                <button class="action-btn edit-btn" title="Edit"><i class="fas fa-edit"></i></button>
                                <button class="action-btn block-btn" title="Block Trainer"><i class="fas fa-ban"></i></button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>1003</td>
                        <td>Mohammed Ali</td>
                        <td>Electronics & IoT</td>
                        <td>10 years</td>
                        <td><span class="status-badge status-blocked">Blocked</span></td>
                        <td>
                            <div class="action">
                                <button class="action-btn view-btn" title="View Details"><i class="fas fa-eye"></i></button>
                                <button class="action-btn edit-btn" title="Edit"><i class="fas fa-edit"></i></button>
                                <button class="action-btn unblock-btn" title="Unblock Trainer"><i class="fas fa-unlock"></i></button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <!-- Add/Edit Trainer Modal -->
        <div id="trainerModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modalTitle">Add New Trainer</h2>
                    <span class="close">&times;</span>
                </div>
                <form id="trainerForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="trainerId">Trainer ID</label>
                            <input type="text" id="trainerId" name="trainerId" readonly>
                        </div>
                        <div class="form-group">
                            <label for="fullName">Full Name</label>
                            <input type="text" id="fullName" name="fullName" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="username">Username</label>
                            <input type="text" id="username" name="username" required>
                        </div>
                        <div class="form-group">
                            <label for="password">Password</label>
                            <input type="password" id="password" name="password" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="academicSpec">Academic Specialization</label>
                            <input type="text" id="academicSpec" name="academicSpec" required>
                        </div>
                        <div class="form-group">
                            <label for="workSpec">Work Specialization</label>
                            <input type="text" id="workSpec" name="workSpec" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="academicDegree">Academic Degree</label>
                            <select id="academicDegree" name="academicDegree" required>
                                <option value="">Select Degree</option>
                                <option value="High School">High School</option>
                                <option value="Diploma">Diploma</option>
                                <option value="Bachelor">Bachelor</option>
                                <option value="Master">Master</option>
                                <option value="PhD">PhD</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="gradInstitution">Graduation Institution</label>
                            <input type="text" id="gradInstitution" name="gradInstitution" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="expYears">Years of Experience</label>
                            <input type="number" id="expYears" name="expYears" min="0" required>
                        </div>
                        <div class="form-group">
                            <label for="status">Status</label>
                            <select id="status" name="status" required>
                                <option value="active">Active</option>
                                <option value="blocked">Blocked</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="expDescription">Experience Description</label>
                        <textarea id="expDescription" name="expDescription" rows="4" required></textarea>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="cancel-btn" id="cancelBtn">Cancel</button>
                        <button type="submit" class="submit-btn">Save</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- View Trainer Details Modal -->
        <div id="viewTrainerModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Trainer Details</h2>
                    <span class="close">&times;</span>
                </div>
                <div class="trainer-details">
                    <div class="trainer-info-header">
                        <div class="trainer-avatar">
                            <i class="fas fa-user-circle"></i>
                        </div>
                        <div>
                            <h3 id="viewTrainerName">Ahmed Mohammed</h3>
                            <p id="viewTrainerId">ID: 1001</p>
                            <p id="viewTrainerStatus"><span class="status-badge status-active">Active</span></p>
                        </div>
                    </div>
                    
                    <div class="trainer-info-grid">
                        <div class="info-item">
                            <h4>Contact Information</h4>
                            <p><strong>Email:</strong> <span id="viewTrainerEmail">ahmed@example.com</span></p>
                            <p><strong>Phone:</strong> <span id="viewTrainerPhone">+966501234567</span></p>
                        </div>
                        
                        <div class="info-item">
                            <h4>Account Details</h4>
                            <p><strong>Username:</strong> <span id="viewTrainerUsername">ahmed_trainer</span></p>
                            <p><strong>Password:</strong> <span id="viewTrainerPassword">••••••••</span></p>
                        </div>
                        
                        <div class="info-item">
                            <h4>Academic Background</h4>
                            <p><strong>Academic Specialization:</strong> <span id="viewTrainerAcademicSpec">Computer Science</span></p>
                            <p><strong>Academic Degree:</strong> <span id="viewTrainerDegree">PhD</span></p>
                            <p><strong>Graduation Institution:</strong> <span id="viewTrainerInstitution">King Saud University</span></p>
                        </div>
                        
                        <div class="info-item">
                            <h4>Professional Experience</h4>
                            <p><strong>Work Specialization:</strong> <span id="viewTrainerWorkSpec">Web Development</span></p>
                            <p><strong>Years of Experience:</strong> <span id="viewTrainerExpYears">8</span></p>
                        </div>
                    </div>
                    
                    <div class="info-item full-width">
                        <h4>Experience Description</h4>
                        <p id="viewTrainerExpDesc">
                            Expert in web development with 8 years of experience building scalable applications.
                            Proficient in JavaScript frameworks, backend technologies, and database management.
                            Has worked with major clients in the e-commerce and finance sectors.
                        </p>
                    </div>
                    
                    <div class="form-actions">
                        <button class="btn" id="closeViewBtn">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="../js/script.js"></script>
    <script>
        // Modal functionality
        const modal = document.getElementById("trainerModal");
        const viewModal = document.getElementById("viewTrainerModal");
        const addBtn = document.getElementById("addTrainerBtn");
        const closeBtn = document.querySelector("#trainerModal .close");
        const viewCloseBtn = document.querySelector("#viewTrainerModal .close");
        const cancelBtn = document.getElementById("cancelBtn");
        const closeViewBtn = document.getElementById("closeViewBtn");
        
        // Open modal when Add Trainer button is clicked
        addBtn.onclick = function() {
            document.getElementById("modalTitle").textContent = "Add New Trainer";
            document.getElementById("trainerForm").reset();
            document.getElementById("trainerId").value = "";
            modal.style.display = "block";
        }
        
        // Close modals when X is clicked
        closeBtn.onclick = function() {
            modal.style.display = "none";
        }
        
        viewCloseBtn.onclick = function() {
            viewModal.style.display = "none";
        }
        
        // Close modal when Cancel button is clicked
        cancelBtn.onclick = function() {
            modal.style.display = "none";
        }
        
        closeViewBtn.onclick = function() {
            viewModal.style.display = "none";
        }

        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
            if (event.target == viewModal) {
                viewModal.style.display = "none";
            }
        }
        
        // Form submission
        document.getElementById("trainerForm").onsubmit = function(e) {
            e.preventDefault();
        
            Swal.fire({
                title: 'Success!',
                text: 'Trainer data has been saved.',
                icon: 'success',
                confirmButtonColor: '#D35926'
            });
            
            modal.style.display = "none";
        }
        
        // Edit button functionality
        const editButtons = document.querySelectorAll(".edit-btn");
        editButtons.forEach(button => {
            button.onclick = function() {
                const row = this.closest("tr");
                const cells = row.cells;
                
                document.getElementById("modalTitle").textContent = "Edit Trainer";
                document.getElementById("trainerId").value = cells[0].textContent;
                document.getElementById("fullName").value = cells[1].textContent;
                
                // For demo purposes, setting some default values
                document.getElementById("email").value = cells[1].textContent.toLowerCase().replace(" ", ".") + "@example.com";
                document.getElementById("phone").value = "+96650" + Math.floor(100000 + Math.random() * 900000);
                document.getElementById("username").value = "trainer_" + cells[1].textContent.toLowerCase().split(" ")[0];
                document.getElementById("password").value = "demoPassword";
                document.getElementById("workSpec").value = cells[2].textContent;
                document.getElementById("expYears").value = cells[3].textContent.split(" ")[0];
                document.getElementById("academicSpec").value = "Computer Science";
                document.getElementById("academicDegree").value = "PhD";
                document.getElementById("gradInstitution").value = "King Saud University";
                document.getElementById("status").value = cells[4].querySelector(".status-badge").classList.contains("status-active") ? "active" : "blocked";
                document.getElementById("expDescription").value = `Expert in ${cells[2].textContent} with ${cells[3].textContent} of experience.`;
                
                modal.style.display = "block";
            };
        });
        
        // View button functionality
        const viewButtons = document.querySelectorAll(".view-btn");
        viewButtons.forEach(button => {
            button.onclick = function() {
                const row = this.closest("tr");
                const cells = row.cells;
                
                document.getElementById("viewTrainerName").textContent = cells[1].textContent;
                document.getElementById("viewTrainerId").textContent = "ID: " + cells[0].textContent;
                document.getElementById("viewTrainerEmail").textContent = cells[1].textContent.toLowerCase().replace(" ", ".") + "@example.com";
                document.getElementById("viewTrainerPhone").textContent = "+96650" + Math.floor(100000 + Math.random() * 900000);
                document.getElementById("viewTrainerAcademicSpec").textContent = "Computer Science";
                document.getElementById("viewTrainerWorkSpec").textContent = cells[2].textContent;
                document.getElementById("viewTrainerDegree").textContent = "PhD";
                document.getElementById("viewTrainerInstitution").textContent = "King Saud University";
                document.getElementById("viewTrainerExpYears").textContent = cells[3].textContent.split(" ")[0];
                document.getElementById("viewTrainerUsername").textContent = "trainer_" + cells[1].textContent.toLowerCase().split(" ")[0];
                document.getElementById("viewTrainerPassword").textContent = "••••••••";
                
                // Set status badge
                const statusBadge = cells[4].querySelector(".status-badge").cloneNode(true);
                document.getElementById("viewTrainerStatus").innerHTML = "";
                document.getElementById("viewTrainerStatus").appendChild(statusBadge);
                
                // Set experience description
                document.getElementById("viewTrainerExpDesc").textContent = 
                    `Expert in ${cells[2].textContent} with ${cells[3].textContent} of experience.\n` +
                    `Academic background in Computer Science with a PhD degree from King Saud University.\n` +
                    `Has extensive experience teaching and mentoring students in professional settings.`;
                
                viewModal.style.display = "block";
            };
        });
        
        // Block/Unblock button functionality
        const blockButtons = document.querySelectorAll(".block-btn, .unblock-btn");
        blockButtons.forEach(button => {
            button.onclick = function() {
                const isBlock = this.classList.contains("block-btn");
                const action = isBlock ? "block" : "unblock";
                const row = this.closest("tr");
                const trainerName = row.cells[1].textContent;
                
                Swal.fire({
                    title: `Are you sure?`,
                    text: `Do you want to ${action} trainer ${trainerName}?`,
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonColor: '#D35926',
                    cancelButtonColor: '#6c757d',
                    confirmButtonText: `Yes, ${action} trainer!`
                }).then((result) => {
                    if (result.isConfirmed) {
                        const statusCell = row.cells[4];
                        const actionCell = row.cells[5];
                        
                        if (isBlock) {
                            statusCell.innerHTML = '<span class="status-badge status-blocked">Blocked</span>';
                            this.outerHTML = '<button class="action-btn unblock-btn" title="Unblock Trainer"><i class="fas fa-unlock"></i></button>';
                        } else {
                            statusCell.innerHTML = '<span class="status-badge status-active">Active</span>';
                            this.outerHTML = '<button class="action-btn block-btn" title="Block Trainer"><i class="fas fa-ban"></i></button>';
                        }
                        
                        Swal.fire(
                            'Success!',
                            `Trainer has been ${action}ed.`,
                            'success'
                        );
                    }
                });
            };
        });
    </script>
</body>
</html>