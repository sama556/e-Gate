<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Trainees Management</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert2/11.4.8/sweetalert2.min.css">
    <link rel="stylesheet" href="../css/sytels.css">
    <link rel="stylesheet" href="../css/trinees-mangment.css">
    
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-header">
            <h3>Training Admin</h3>
        </div>
        <div class="sidebar-menu">
            <div class="menu-item">
                <i class="fas fa-tachometer-alt"></i>
                <a href="dasboard.html"><span>Dashboard</span></a>
            </div>
            <div class="menu-item">
                <i class="fas fa-book"></i>
                <a href="course-mangement.html"><span>Courses Management</span></a>
            </div>
            <div class="menu-item active">
                <i class="fas fa-users"></i>
                <a href="trainees managment.html"><span>Trainees Management</span></a>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="header">
            <h1>Trainees Management</h1>
                    <div class="user-info" id="userInfo">
                        <img src="../images/profile.png" alt="Admin">
                        <span>Admin User</span>
                        <div class="profile-dropdown" id="profileDropdown">
                            <div class="profile-dropdown-item" id="viewProfile">
                                <i class="fas fa-user"></i>
                               <a href="profile.html" ><span>View Profile</span></a>
                            </div>
                            <div class="profile-dropdown-item" id="logout">
                                <i class="fas fa-sign-out-alt"></i>
                            <a href="../langingPage.html"></a> <span>Logout</span></a>
                            </div>
                        </div>
                    </div>
                </div>
        
        <div class="trainees-container">
            <div class="trainees-header">
                <h2>Trainees List</h2>
                <button class="add-trainee-btn" id="addTraineeBtn">
                    <i class="fas fa-plus"></i> Add Trainee
                </button>
            </div>
            
            <table class="trainees-table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Phone</th>
                        <th>Specialization</th>
                        <th>Education</th>
                        <th>Nationality</th>
                        <th>Registration Date</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Ahmed Mohammed</td>
                        <td>ahmed@example.com</td>
                        <td>+966501234567</td>
                        <td>Computer Science</td>
                        <td>Bachelor</td>
                        <td>Saudi</td>
                        <td>2023-05-15</td>
                        <td>
                            <div  class="action">
                                <button class="action-btn edit-btn"><i class="fas fa-edit"></i></button>
                                <button class="action-btn delete-btn"><i class="fas fa-trash"></i></button>
                                <button class="action-btn progress-btn" title="View Progress">
                                    <i class="fas fa-chart-line"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>Sarah Abdullah</td>
                        <td>sarah@example.com</td>
                        <td>+966502345678</td>
                        <td>Business Administration</td>
                        <td>Master</td>
                        <td>Saudi</td>
                        <td>2023-06-20</td>
                        <td>
                            <div  class="action">
                                <button class="action-btn edit-btn"><i class="fas fa-edit"></i></button>
                                <button class="action-btn delete-btn"><i class="fas fa-trash"></i></button>
                                <button class="action-btn progress-btn" title="View Progress">
                                    <i class="fas fa-chart-line"></i>
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>Mohammed Ali</td>
                        <td>mohammed@example.com</td>
                        <td>+966503456789</td>
                        <td>Electrical Engineering</td>
                        <td>Bachelor</td>
                        <td>Egyptian</td>
                        <td>2023-07-10</td>
                        <td>
                            <div  class="action">
                            <button class="action-btn edit-btn"><i class="fas fa-edit"></i></button>
                            <button class="action-btn delete-btn"><i class="fas fa-trash"></i></button>
                            <button class="action-btn progress-btn" title="View Progress">
                                <i class="fas fa-chart-line"></i>
                            </button>
                        </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    <!-- Add/Edit Trainee Modal -->
    <div id="traineeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Add New Trainee</h2>
                <span class="close">&times;</span>
            </div>
            <form id="traineeForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="traineeId">Trainee ID</label>
                        <input type="text" id="traineeId" name="traineeId" readonly>
                    </div>
                    <div class="form-group">
                        <label for="fullName">Full Name</label>
                        <input type="text" id="fullName" name="fullName" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone Number</label>
                        <input type="tel" id="phone" name="phone" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" name="username" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="specialization">Specialization</label>
                        <input type="text" id="specialization" name="specialization" required>
                    </div>
                    <div class="form-group">
                        <label for="education">Education</label>
                        <select id="education" name="education" required>
                            <option value="">Select Education</option>
                            <option value="High School">High School</option>
                            <option value="Diploma">Diploma</option>
                            <option value="Bachelor">Bachelor</option>
                            <option value="Master">Master</option>
                            <option value="PhD">PhD</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="nationality">Nationality</label>
                        <input type="text" id="nationality" name="nationality" required>
                    </div>
                    <div class="form-group">
                        <label for="birthDate">Birth Date</label>
                        <input type="date" id="birthDate" name="birthDate" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="registrationDate">Registration Date</label>
                        <input type="date" id="registrationDate" name="registrationDate" required>
                    </div>
                    <div class="form-group">
                        <label for="gender">Gender</label>
                        <select id="gender" name="gender" required>
                            <option value="">Select Gender</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="address">Address</label>
                    <input type="text" id="address" name="address" required>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="cancel-btn" id="cancelBtn">Cancel</button>
                    <button type="submit" class="submit-btn">Save</button>
                </div>
            </form>
        </div>
    </div>
<!-- Progress Modal -->
<div id="progressModal" class="modal">
    <div class="modal-content" style="width: 70%;">
        <div class="modal-header">
            <h2 id="progressModalTitle">Trainee Progress</h2>
            <span class="close">&times;</span>
        </div>
        <div class="progress-container">
            <div class="trainee-info">
                <h3 id="progressTraineeName">Ahmed Mohammed</h3>
                <p>ID: <span id="progressTraineeId">1</span></p>
                <p>Email: <span id="progressTraineeEmail">ahmed@example.com</span></p>
            </div>
            
            <div class="progress-summary">
                <div class="summary-card">
                    <h4>Enrolled Courses</h4>
                    <p id="enrolledCount">5</p>
                </div>
                <div class="summary-card">
                    <h4>Completed</h4>
                    <p id="completedCount">2</p>
                </div>
                <div class="summary-card">
                    <h4>In Progress</h4>
                    <p id="inProgressCount">3</p>
                </div>
                <div class="summary-card">
                    <h4>Overall Progress</h4>
                    <p id="overallProgress">40%</p>
                </div>
            </div>
            
            <h3>Course Details</h3>
            <table class="progress-table">
                <thead>
                    <tr>
                        <th>Course</th>
                        <th>Start Date</th>
                        <th>End Date</th>
                        <th>Progress</th>
                        <th>Status</th>
                        <th>Last Activity</th>
                    </tr>
                </thead>
                <tbody id="progressTableBody">
                    <!-- Progress data will be inserted here -->
                </tbody>
            </table>
        </div>
    </div>
</div>
</div>
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="../js/script.js"></script>
    <script>
        // Modal functionality
        const modal = document.getElementById("traineeModal");
        const addBtn = document.getElementById("addTraineeBtn");
        const closeBtn = document.querySelector(".close");
        const cancelBtn = document.getElementById("cancelBtn");
        
        // Open modal when Add Trainee button is clicked
        addBtn.onclick = function() {
            document.getElementById("modalTitle").textContent = "Add New Trainee";
            document.getElementById("traineeForm").reset();
            document.getElementById("traineeId").value = "";
            modal.style.display = "block";
        }
        
        // Close modal when X is clicked
        closeBtn.onclick = function() {
            modal.style.display = "none";
        }
        
        // Close modal when Cancel button is clicked
        cancelBtn.onclick = function() {
            modal.style.display = "none";
        }
        
        // Close modal when clicking outside of it
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
        
        // Form submission
        document.getElementById("traineeForm").onsubmit = function(e) {
            e.preventDefault();
            
            // Here you would typically send the data to your server
            // For now, we'll just show a success message
            Swal.fire({
                title: 'Success!',
                text: 'Trainee data has been saved.',
                icon: 'success',
                confirmButtonColor: '#D35926'
            });
            
            modal.style.display = "none";
        }
        
        // Edit button functionality
        const editButtons = document.querySelectorAll(".edit-btn");
        editButtons.forEach(button => {
            button.onclick = function() {
                const row = this.closest("tr");
                const cells = row.cells;
                
                document.getElementById("modalTitle").textContent = "Edit Trainee";
                document.getElementById("traineeId").value = cells[0].textContent;
                document.getElementById("fullName").value = cells[1].textContent;
                document.getElementById("email").value = cells[2].textContent;
                document.getElementById("phone").value = cells[3].textContent;
                document.getElementById("specialization").value = cells[4].textContent;
                document.getElementById("education").value = cells[5].textContent;
                document.getElementById("nationality").value = cells[6].textContent;
                document.getElementById("registrationDate").value = cells[7].textContent;
                
                // For demo purposes, setting some default values
                document.getElementById("username").value = "demoUsername";
                document.getElementById("password").value = "demoPassword";
                document.getElementById("birthDate").value = "1990-01-01";
                document.getElementById("gender").value = "Male";
                document.getElementById("address").value = "123 Main St, City";
                
                modal.style.display = "block";
            };
        });
        
        // Delete button functionality
        const deleteButtons = document.querySelectorAll(".delete-btn");
        deleteButtons.forEach(button => {
            button.onclick = function() {
                Swal.fire({
                    title: 'Are you sure?',
                    text: "You won't be able to revert this!",
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonColor: '#D35926',
                    cancelButtonColor: '#d33',
                    confirmButtonText: 'Yes, delete it!'
                }).then((result) => {
                    if (result.isConfirmed) {
                        // Here you would typically send a delete request to your server
                        // For now, we'll just show a success message
                        Swal.fire(
                            'Deleted!',
                            'Trainee has been deleted.',
                            'success'
                        );
                        
                        // In a real app, you would remove the row from the table
                        // this.closest("tr").remove();
                    }
                });
            };
        });
        // Progress button functionality
const progressButtons = document.querySelectorAll(".progress-btn");
const progressModal = document.getElementById("progressModal");
const progressCloseBtn = progressModal.querySelector(".close");

progressButtons.forEach(button => {
    button.onclick = function() {
        const row = this.closest("tr");
        const cells = row.cells;
        
        // Set trainee info
        document.getElementById("progressTraineeName").textContent = cells[1].textContent;
        document.getElementById("progressTraineeId").textContent = cells[0].textContent;
        document.getElementById("progressTraineeEmail").textContent = cells[2].textContent;
        
        // In a real app, you would fetch this data from your backend
        // For demo purposes, we'll use sample data
        const sampleProgressData = [
            {
                course: "Introduction to Programming",
                startDate: "2023-05-20",
                endDate: "2023-07-20",
                progress: 100,
                status: "Completed",
                lastActivity: "2023-07-18"
            },
            {
                course: "Web Development Fundamentals",
                startDate: "2023-06-01",
                endDate: "2023-08-01",
                progress: 75,
                status: "In Progress",
                lastActivity: "2023-07-25"
            },
            {
                course: "Database Management",
                startDate: "2023-07-10",
                endDate: "2023-09-10",
                progress: 30,
                status: "In Progress",
                lastActivity: "2023-07-28"
            }
        ];
        
        // Calculate summary
        const enrolledCount = sampleProgressData.length;
        const completedCount = sampleProgressData.filter(c => c.status === "Completed").length;
        const inProgressCount = enrolledCount - completedCount;
        const overallProgress = Math.round(sampleProgressData.reduce((sum, c) => sum + c.progress, 0) / enrolledCount);
        
        // Update summary
        document.getElementById("enrolledCount").textContent = enrolledCount;
        document.getElementById("completedCount").textContent = completedCount;
        document.getElementById("inProgressCount").textContent = inProgressCount;
        document.getElementById("overallProgress").textContent = overallProgress + "%";
        
        // Populate course progress table
        const tableBody = document.getElementById("progressTableBody");
        tableBody.innerHTML = "";
        
        sampleProgressData.forEach(course => {
            const row = document.createElement("tr");
            
            row.innerHTML = `
                <td>${course.course}</td>
                <td>${course.startDate}</td>
                <td>${course.endDate}</td>
                <td>
                    <div class="progress-bar-container">
                        <div class="progress-bar" style="width: ${course.progress}%">${course.progress}%</div>
                    </div>
                </td>
                <td>
                    <span class="status-badge status-${course.status.toLowerCase().replace(" ", "")}">
                        ${course.status}
                    </span>
                </td>
                <td>${course.lastActivity}</td>
            `;
            
            tableBody.appendChild(row);
        });
        
        progressModal.style.display = "block";
    };
});

// Close progress modal
progressCloseBtn.onclick = function() {
    progressModal.style.display = "none";
}

// Close progress modal when clicking outside
window.onclick = function(event) {
    if (event.target == progressModal) {
        progressModal.style.display = "none";
    }
}
    </script>
</body>
</html>